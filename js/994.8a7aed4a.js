"use strict";(self["webpackChunkfolioblocks_web"]=self["webpackChunkfolioblocks_web"]||[]).push([[994],{2796:(e,t,a)=>{a.d(t,{$T:()=>l,_u:()=>c,kb:()=>i,sx:()=>o});const o="folioblocks.southeastasia.azurecontainer.io",i=100,n=Object.freeze({NODE_GENERAL_CONSENSUS_INIT:1,NODE_GENERAL_REGISTER_INIT:2,NODE_GENERAL_GENESIS_BLOCK_INIT:3,NODE_GENERAL_CONSENSUS_BLOCK_SYNC:4,NODE_GENERAL_CONSENSUS_CONFIRM_NEGOTIATION_START:5,NODE_GENERAL_CONSENSUS_CONCLUDE_NEGOTIATION_PROCESSING:6,INSTITUTION_ORG_GENERATE_STUDENT:7,INSTITUTION_ORG_REFER_NEW_DOCUMENT_OR_IMPORTANT_INFO:8,INSTITUTION_ORG_STUDENT_REFER_EXTRA_INFO:9,ORGANIZATION_USER_REGISTER:10,ORGANIZATION_REFER_EXTRA_INFO:11}),r=Object.freeze({STUDENT_BASE:1,STUDENT_LOG:2,STUDENT_ADDITIONAL:3,ORGANIZATION_BASE:4}),s=Object.freeze({CONSENSUS:1,INIT:2,SYNC:3});function l(e){switch(e){case n.NODE_GENERAL_CONSENSUS_INIT:return"Consensus Initialization";case n.NODE_GENERAL_REGISTER_INIT:return"Node Registration";case n.NODE_GENERAL_GENESIS_BLOCK_INIT:return"Node Genesis Block Creation";case n.NODE_GENERAL_CONSENSUS_BLOCK_SYNC:return"Node Block Sync via Consensus";case n.NODE_GENERAL_CONSENSUS_CONFIRM_NEGOTIATION_START:return"Node Consensus Negotiation Confirmed Start";case n.NODE_GENERAL_CONSENSUS_CONCLUDE_NEGOTIATION_PROCESSING:return"Node Consensus Negotiation Conclusion of Processing";case n.INSTITUTION_ORG_GENERATE_STUDENT:return"Institution Student Generation";case n.INSTITUTION_ORG_REFER_NEW_DOCUMENT_OR_IMPORTANT_INFO:return"Institution New Document / Important Info to Student Reference";case n.INSTITUTION_ORG_STUDENT_REFER_EXTRA_INFO:return"Institution Refer Extra Info to Student";case n.ORGANIZATION_USER_REGISTER:return"Organization Registration";case n.ORGANIZATION_REFER_EXTRA_INFO:return"Extra Info Referral to Organization";default:return"Unidentified Action."}}function c(e){let t=e.hasOwnProperty("content_type")?"User Transaction":"Internal Transaction",a=null;if(e.hasOwnProperty("content_type"))switch(e.content_type){case r.STUDENT_BASE:a="Student Base Portfolio";break;case r.STUDENT_LOG:a="Student Log from Orgs";break;case r.STUDENT_ADDITIONAL:a="Student Additional Info / Remarks";break;case r.ORGANIZATION_BASE:a="Organization Base Registration";break;default:a="Unidentified";break}else switch(e.action){case s.CONSENSUS:a="Internal: Consensus Context";break;case s.INIT:a="Internal: Context Initialization";break;case s.SYNC:a="Internal: Sync from Communication";break;default:a="Unidentified";break}return{identifiedType:t,resolvedTypeValue:a}}},5994:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var o=a(3673),i=a(2323);const n=e=>((0,o.dD)("data-v-cc8722ba"),e=e(),(0,o.Cn)(),e),r=n((()=>(0,o._)("strong",null,"FolioBlocks",-1))),s=(0,o.Uk)("Main Menu"),l=(0,o.Uk)(" Dashboard "),c=(0,o.Uk)(" Explorer "),u={key:0},d=(0,o.Uk)("Organization Options"),_=(0,o.Uk)(" Insert Credentials / Students "),N={key:1},h=(0,o.Uk)("Student Options"),p=(0,o.Uk)(" Portfolio "),E={class:"absolute-bottom bg-transparent"},I=["src"],O={class:"text-weight-bold"};function S(e,t,a,n,S,m){const T=(0,o.up)("q-btn"),f=(0,o.up)("q-toolbar-title"),g=(0,o.up)("q-toolbar"),w=(0,o.up)("q-header"),k=(0,o.up)("q-item-label"),R=(0,o.up)("q-icon"),A=(0,o.up)("q-item-section"),b=(0,o.up)("q-item"),v=(0,o.up)("q-separator"),C=(0,o.up)("q-list"),U=(0,o.up)("q-scroll-area"),D=(0,o.up)("q-avatar"),G=(0,o.up)("q-img"),L=(0,o.up)("q-drawer"),y=(0,o.up)("router-view"),q=(0,o.up)("q-page-container"),$=(0,o.up)("q-layout"),W=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)($,{view:"hHh Lpr lff"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{elevated:"",class:"bg-cyan text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[e.containsNoAuth?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(T,{key:0,dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"])),(0,o.Wm)(f,{class:"webtitle"},{default:(0,o.w5)((()=>[r])),_:1}),e.onExplorer?((0,o.wg)(),(0,o.j4)(T,{key:1,flat:"",rounded:"",ripple:"",color:"white",icon:"people",label:"Addresses",to:"/explorer/addresses"})):(0,o.kq)("",!0),(0,o.Wm)(T,{flat:"",rounded:"",ripple:"",color:"white",icon:"home",label:"Home",to:"/"}),e.containsNoAuth?((0,o.wg)(),(0,o.j4)(T,{key:2,flat:"",rounded:"",ripple:"",color:"white",icon:"login",label:"Login",to:"/entry/login"})):(0,o.kq)("",!0),e.containsNoAuth?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(T,{key:3,class:"exit",flat:"",rounded:"",ripple:"",color:"white",icon:"logout",label:"Logout",onClick:e.logoutSession},null,8,["onClick"])),e.containsNoAuth?((0,o.wg)(),(0,o.j4)(T,{key:4,flat:"",rounded:"",ripple:"",color:"white",icon:"mdi-account-plus",label:"Register",to:"/entry/register"})):(0,o.kq)("",!0)])),_:1})])),_:1}),e.containsNoAuth?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(L,{key:0,modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[4]||(t[4]=t=>e.leftDrawerOpen=t),width:300,breakpoint:2e3},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{style:{height:"calc(100% - 200px)","margin-top":"200px","border-right":"1px solid #ddd"}},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{header:""},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.wy)(((0,o.wg)(),(0,o.j4)(b,{clickable:"",to:"/dashboard",active:"dashboard"===e.activeLink,onClick:t[0]||(t[0]=t=>e.activeLink="dashboard"),"active-class":"active-state"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{name:"mdi-view-dashboard"})])),_:1}),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[l])),_:1})])),_:1},8,["active"])),[[W]]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(b,{clickable:"",round:"",to:"/explorer",active:"explorer"===e.activeLink,onClick:t[1]||(t[1]=t=>e.activeLink="explorer"),"active-class":"active-state"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{name:"mdi-checkbox-multiple-blank"})])),_:1}),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[c])),_:1})])),_:1},8,["active"])),[[W]]),"Organization Dashboard User"===e.role?((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(v,{spaced:""}),(0,o.Wm)(k,{header:""},{default:(0,o.w5)((()=>[d])),_:1}),(0,o.wy)(((0,o.wg)(),(0,o.j4)(b,{clickable:"",to:"/org/insert/standby",active:"new-credentials"===e.activeLink,onClick:t[2]||(t[2]=t=>e.activeLink="new-credentials"),"active-class":"active-state"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{name:"mdi-file-account"})])),_:1}),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[_])),_:1})])),_:1},8,["active"])),[[W]])])):(0,o.kq)("",!0),"Student Dashboard User"===e.role?((0,o.wg)(),(0,o.iD)("div",N,[(0,o.Wm)(v,{spaced:""}),(0,o.Wm)(k,{header:""},{default:(0,o.w5)((()=>[h])),_:1}),(0,o.wy)(((0,o.wg)(),(0,o.j4)(b,{clickable:"",to:"/portfolio",active:"portfolio"===e.activeLink,onClick:t[3]||(t[3]=t=>e.activeLink="portfolio"),"active-class":"active-state"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{name:"mdi-file-account"})])),_:1}),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[p])),_:1})])),_:1},8,["active"])),[[W]])])):(0,o.kq)("",!0)])),_:1})])),_:1}),(0,o.Wm)(G,{class:"absolute-top",src:"https://picsum.photos/id/10/2500/1667",style:{height:"200px",width:"300px"}},{default:(0,o.w5)((()=>[(0,o._)("div",E,[(0,o.Wm)(D,{size:"56px",class:"q-mb-sm"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.html_user_avatar},null,8,I)])),_:1}),(0,o._)("div",O,(0,i.zw)(e.user),1),(0,o._)("div",null,(0,i.zw)(e.role),1)])])),_:1})])),_:1},8,["modelValue"])),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1})}var m=a(1959),T=a(8825),f=a(52),g=a.n(f),w=a(2796),k=a(9582);const R=(0,o.aZ)({name:"Dashboard",components:{},data(){return{user:(0,m.iH)("0x000000000000000"),html_user_avatar:(0,m.iH)(""),role:(0,m.iH)("Unidentified"),onExplorer:(0,m.iH)(!1)}},setup(){const e=(0,T.Z)(),t=((0,k.tv)(),(0,k.yj)(),(0,m.iH)(!1)),a=null===e.localStorage.getItem("token");return{activeLink:(0,m.iH)(""),containsNoAuth:a,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value}}},mounted(){this.containsNoAuth?this.checkPathAndAuth():g().get(`http://${w.sx}/dashboard`,{headers:{"X-Token":this.$q.localStorage.getItem("token")}}).then((e=>{this.user=`${e.data.first_name} ${e.data.last_name}`,this.html_user_avatar=`https://ui-avatars.com/api/?name=${e.data.first_name}+${e.data.last_name}`,this.role=e.data.role,this.checkPathAndAuth()})).catch((e=>{this.$router.push({path:"/"});const t=void 0===e.response.data?`${e.message}. Server may be unvailable. Please try again later.`:e.response.data.detail;this.$q.notify({color:"red",position:"top",message:`There was an error when accessing the page. Info: ${t}`,timeout:1e4,progress:!0,icon:"mdi-cancel"}),this.$q.localStorage.clear()}))},methods:{async logoutSession(){this.containsNoAuth||(await g().post(`http://${w.sx}/entity/logout`,{},{headers:{"X-Token":this.$q.localStorage.getItem("token")}}),this.$q.localStorage.clear(),await this.$router.push({path:"/"}),this.$q.notify({color:"green",position:"top",message:"Logout successful! See you next time!",timeout:1e4,progress:!0,icon:"mdi-account-check"}))},checkPathAndAuth(){(this.$route.path.includes("/dashboard")&&this.containsNoAuth||this.$route.path.includes("/user_info")&&"Student Dashboard User"!==this.role||this.$route.path.includes("/org")&&"Organization Dashboard User"!==this.role||this.$route.path.includes("/portfolio")&&""===this.$route.query.address&&"Organization Dashboard User"===this.role||this.$route.path.includes("/portfolio")&&void 0!==this.$route.query.address&&"Student Dashboard User"===this.role||this.$route.path.includes("/portfolio")&&void 0===this.$route.query.address&&"Unidentified"===this.role)&&(this.$router.push({path:this.containsNoAuth?"/":"/dashboard"}),this.$q.notify({color:"red",position:"top",message:"You are unauthorized to navigate the requested page.",timeout:1e4,progress:!0,icon:"mdi-cancel"})),this.onExplorer=!!this.$route.path.includes("/explorer")}},updated(){this.checkPathAndAuth(),this.$route.path.includes("/org/insert")&&(this.activeLink="new-credentials")}});var A=a(4260),b=a(9214),v=a(3812),C=a(9570),U=a(8240),D=a(3747),G=a(2901),L=a(7704),y=a(7011),q=a(2350),$=a(3414),W=a(2035),x=a(4554),Z=a(5869),z=a(4027),Q=a(5096),j=a(2652),F=a(6489),P=a(7518),B=a.n(P);const H=(0,A.Z)(R,[["render",S],["__scopeId","data-v-cc8722ba"]]),M=H;B()(R,"components",{QLayout:b.Z,QHeader:v.Z,QToolbar:C.Z,QBtn:U.Z,QToolbarTitle:D.Z,QDrawer:G.Z,QScrollArea:L.Z,QList:y.Z,QItemLabel:q.Z,QItem:$.Z,QItemSection:W.Z,QIcon:x.Z,QSeparator:Z.Z,QImg:z.Z,QAvatar:Q.Z,QPageContainer:j.Z}),B()(R,"directives",{Ripple:F.Z})}}]);